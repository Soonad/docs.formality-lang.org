

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Why Formality-Core? &mdash; Formality 0.3.91 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #444053" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/formality-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.91
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="language/1.Motivation.html">1. Motivation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/1.Motivation.html#optimal-substitutions">1.1. Optimal substitutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/1.Motivation.html#a-perfect-execution-model">1.2. A “perfect” execution model</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/1.Motivation.html#a-powerful-type-theory">1.3. A powerful type-theory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/2.Installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="language/3.Hello,-world!.html">3. Hello, World!</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/3.Hello,-world!.html#running-a-program">3.1. Running a program</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/3.Hello,-world!.html#imports">3.2. Imports</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/3.Hello,-world!.html#global-imports">3.3. Global imports</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/3.Hello,-world!.html#evaluating">3.4. Evaluating</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/3.Hello,-world!.html#type-checking">3.5. Type-checking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/4.Basics.html">4. Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/4.Basics.html#let">4.1. Let</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/4.Basics.html#words">4.2. Words</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/4.Basics.html#if">4.3. If</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/4.Basics.html#pairs">4.4. Pairs</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/4.Basics.html#functions">4.5. Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/5.Datatypes.html">5. Datatypes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/5.Datatypes.html#simple-datatypes">5.1. Simple datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/5.Datatypes.html#container-datatypes">5.2. Container datatypes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/5.Datatypes.html#nested-cases">5.2.1. Nested cases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/5.Datatypes.html#recursive-datatypes">5.3. Recursive datatypes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="language/5.Datatypes.html#recursive-functions">5.3.1. Recursive functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="language/5.Datatypes.html#polymorphic-datatypes">5.4. Polymorphic datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/5.Datatypes.html#indexed-datatypes">5.5. Indexed datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/5.Datatypes.html#self-encodings">5.6. Self-Encodings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/6.7.Boxes.html">6. Box System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/6.7.Boxes.html#avoid-making-a-copy">6.1. Avoid making a copy.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/6.7.Boxes.html#use-case-d-arguments">7. Use case’d arguments.</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/6.7.Boxes.html#make-a-manual-copy">7.1. Make a manual copy.</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/6.7.Boxes.html#use-boxes">7.2. Use boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/6.7.Boxes.html#loops-and-recursion">7.3. Loops and Recursion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="language/8.Theorem-Proving.html">8. Theorem Proving</a><ul>
<li class="toctree-l2"><a class="reference internal" href="language/8.Theorem-Proving.html#equality">8.1. Equality</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/8.Theorem-Proving.html#simple-proofs">8.2. Simple proofs</a></li>
<li class="toctree-l2"><a class="reference internal" href="language/8.Theorem-Proving.html#inductive-proofs">8.3. Inductive proofs</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Runtime</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="runtime/Formality-Net.html">1. Formality Net</a><ul>
<li class="toctree-l2"><a class="reference internal" href="runtime/Formality-Net.html#rewrite-rules">1.1. Rewrite rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#erasure">1.1.1. Erasure</a></li>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#substitution">1.1.2. Substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#duplication">1.1.3. Duplication</a></li>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#if-then-else">1.1.4. If-Then-Else</a></li>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#num-operation">1.1.5. Num-Operation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="runtime/Formality-Net.html#compiling-fm-core-to-fm-net">1.2. Compiling FM-Core to FM-Net</a></li>
<li class="toctree-l2"><a class="reference internal" href="runtime/Formality-Net.html#implementation">1.3. Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#rewrites">1.3.1. Rewrites</a></li>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#strict-evaluation">1.3.2. Strict evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="runtime/Formality-Net.html#lazy-evaluation">1.3.3. Lazy evaluation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Formality</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Why Formality-Core?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Why.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="why-formality-core">
<h1>Why Formality-Core?<a class="headerlink" href="#why-formality-core" title="Permalink to this headline">¶</a></h1>
<p>Formality-Core (FMC) is a minimal, efficient functional programming language designed to be a “low-level” compile-target for more feature-rich functional languages. Differently from most functional languages, FMC has amazing computational characteristics such as not requiring a garbage-collector, beta-reduction being a constant-time operation, being able to perform dynamic fusion, being strongly normalizing and massively parallelizable. In other words, FMC is really, really fast, and aims to be the ultimate assembly of resource-aware functional languages.</p>
<p>In order for all that to be possible, FMC makes some fundamental changes to the memory model behind the λ-calculus, allowing it to be compatible with an optimal functional runtime as <a class="reference external" href="https://medium.com/&#64;maiavictor/solving-the-mystery-behind-abstract-algorithms-magical-optimizations-144225164b07">Lamping’s Abstract Algorithm</a>, which is based on a beautiful model of computation, <a class="reference external" href="https://pdfs.semanticscholar.org/1731/a6e49c6c2afda3e72256ba0afb34957377d3.pdf">Interaction-Nets</a>. The most important change is the fact its lambdas are affine: a lambda-bound variables can’t be used more than once. At first, this sounds like an extreme limitation, but this is mitigated by FMC’s boxed duplication system. It allows you to perform deep copy of arbitrary values, as long as you respect certain structural restrictions.</p>
<p>Formality-Core is very similar to Rust. The main difference is that Rust mitigates the limitations of affine lambdas with a complex ownership system which includes borrows, lifetimes, mutable references. In FMC, you’re instead encouraged to simply <code class="docutils literal notranslate"><span class="pre">.clone()</span></code> structures whenever you need to. Due to the underlying interaction-net runtime, those copies are performed lazily, granularly and in parallel. They’re, thus, much less expensive than a Rust-like <code class="docutils literal notranslate"><span class="pre">.clone()</span></code> (and often free).</p>
<p>Here is an brief illustration of the process of compiling a Formality-Core term to our interaction-net runtime, reducing it in parallel, and reading the result:</p>
<p><img alt="https://github.com/moonad/formality/raw/master/docs/images/inet-simulation.gif" src="https://github.com/moonad/formality/raw/master/docs/images/inet-simulation.gif" /></p>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Ethereum Foundation and Sunshine Cybernetics

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>